<!DOCTYPE html><html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100vw;
    height: 100svh;
    overflow-x: auto;
    overflow-y: hidden;
    background: black;
  }#main-svg { height: 100svh; background: black; display: block; }

.image-mapper-shape { fill: transparent; stroke: yellow; stroke-width: 2; transition: transform 0.25s ease, stroke-width 0.25s ease, filter 0.25s ease; transform-box: fill-box; transform-origin: center; }

.q { stroke: red; } .v { stroke: blue; } .ipc { stroke: white; } .o { stroke: #80CBC4; } .a { stroke: #F48FB1; }

.zoom-part { pointer-events: none; opacity: 0; transition: transform 0.25s ease, opacity 0.25s ease, filter 0.25s ease; image-rendering: auto; transform-origin: center; }

@keyframes glowPulse { 0% { filter: drop-shadow(0 0 6px hsl(0,100%,55%)); } 50% { filter: drop-shadow(0 0 10px hsl(120,100%,60%)); } 100% { filter: drop-shadow(0 0 6px hsl(240,100%,55%)); } }

.glow { animation: glowPulse 1.2s infinite linear; } </style>

</head>
<body>

  <svg xmlns="http://www.w3.org/2000/svg"  
    viewBox="0 0 2048 2454"  
    preserveAspectRatio="xMinYMin meet"  
    id="main-svg">
    <defs id="clip-defs"></defs>

    <g transform="translate(0,0)"> الاسبوع الأول
<image href="image/1.png" width="1024" height="2454" preserveAspectRatio="xMinYMin meet"/> <g transform="translate(368,0)"> الإثنين
<a href="micro/1.pdf"><rect x="0" y="703" width="115" height="380" class="image-mapper-shape"/></a>  

<a href="patho/1.pdf"><rect x="0" y="1083" width="115" height="253.5" class="image-mapper-shape"/></a>  

<a href="patho/q/1.pdf"><rect x="0" y="1339" width="115" height="125" class="image-mapper-shape q"/></a>  

<a href="physio/2.pdf"><rect x="0" y="1465" width="115" height="378.5" class="image-mapper-shape"/></a>  

<a href="anatomy/1.pdf"><rect x="0" y="1845" width="115" height="380" class="image-mapper-shape"/></a>  
</g> 
<g transform="translate(598,0)"> الأربع

<a href="physio/1.pdf"><rect x="0" y="366" width="114.5" height="315" class="image-mapper-shape"/></a>  

<a href="physio/2.pdf"><rect x="0" y="1846" width="115" height="253.4" class="image-mapper-shape"/></a>  

<a href="physio/q/1.pdf"><rect x="0" y="2100" width="115" height="127" class="image-mapper-shape q"/></a>
</g>
<g transform="translate(712.35,0)"> الخميس

<a href="histo/1.pdf"><rect x="0" y="702" width="115" height="380" class="image-mapper-shape"/></a>  

<a href="anatomy/2.pdf"><rect x="0" y="1465" width="115" height="380" class="image-mapper-shape"/></a>  
</g>  
</g>
    <g transform="translate(1024,0)"> الاسبوع الثاني

<image href="image/2.png" width="1024" height="2454" preserveAspectRatio="xMinYMin meet"/> <g transform="translate(139.5,0)"> السبت
<a href="https://drive.google.com/file/d/1vLk8z7AGqjlJZx1rvL_e7tQa8arC1qud/view?usp=sharing"><rect x="0" y="308.9191510221431" width="114.81010065105059" height="113.19699822367954" class="image-mapper-shape v"/></a>
    <a href="pharma/1.pdf"><rect x="0" y="421.1304391087087" width="113.1443225155385" height="227.44459430799515" class="image-mapper-shape"/></a>
    <a href="ipc/Book.pdf"><rect x="0" y="876" width="115" height="349" class="image-mapper-shape ipc"/></a>  
    <a href="ipc/q/9.pdf"><rect x="0" y="1225" width="57.5" height="121" class="image-mapper-shape q"/></a>  
    <a href="ipc/a/9.pdf"><rect x="57.5" y="1225" width="57.5" height="121" class="image-mapper-shape a"/></a>  
    <a href="#"><rect x="0" y="1810.383890491999" width="115.86350089581418" height="470.24169690909093" class="image-mapper-shape"/></a>
    </g>

<g transform="translate(254.5,0)"> الأحد
</g>

<g transform="translate(369.5,0)"> الإثنين
    <a href="physio/3.pdf"><rect x="0" y="1365" width="115" height="450" class="image-mapper-shape"/></a>
    <a href="#"><rect x="0" y="421" width="114.62348009508963" height="455.5" class="image-mapper-shape"/></a>
    <a href="#"><rect x="0" y="1812.0873755033645" width="113.932817717675" height="471.4497750874907" class="image-mapper-shape"/></a>
    </g>

<g transform="translate(484.5,0)"> الثلاثاء
<a href="#"><rect x="0" y="1121.2977744061197" width="113.83913151011649" height="347.86709572240375" class="image-mapper-shape"/></a>
    <a href="#"><rect x="0" y="1470.588390130531" width="112.62070957241832" height="340.4739051562792" class="image-mapper-shape"/></a>
    <a href="#"><rect x="0" y="1813.7791953060073" width="113.88100778674408" height="361.3670230551447" class="image-mapper-shape"/></a>
    </g>

<g transform="translate(599.5,0)"> الأربع
<a href="#"><rect x="0" y="1469.190023234833" width="113.72594253172372" height="343.19918954424566" class="image-mapper-shape"/></a>
    <a href="#"><rect x="0" y="421.6499054346654" width="115.795514601224" height="457.44678562856114" class="image-mapper-shape"/></a>
    </g>

<g transform="translate(714.5,0)"> الخميس
<a href="#"><rect x="0" y="422.2539445238651" width="114.39058602561886" height="340.47536330736926" class="image-mapper-shape"/></a>
    <a href="#"><rect x="0" y="877.494183014872" width="114.6383805765447" height="485.4349021955651" class="image-mapper-shape"/></a>
    <a href="#"><rect x="0" y="1364.7360989492217" width="113.21139746569713" height="447.5422943469862" class="image-mapper-shape"/></a>
    </g>
</g>  
    </svg>  
<script>
(function(){
  const svg = document.getElementById("main-svg");
  const clipDefs = document.getElementById("clip-defs");
  let active = { rect:null, zoom:null, clip:null };
function updateWidth(){
    const weeks = svg.querySelectorAll(':scope > g[transform^="translate"]');
    const w = weeks.length * 1024;
    svg.style.width = w + "px";
    svg.setAttribute("viewBox", `0 0 ${w} 2454`);
  }
  updateWidth();
let touchScrolling = false;
  let touchTimer;
  window.addEventListener("touchstart",()=>{
    touchScrolling = true;
    clearTimeout(touchTimer);
    touchTimer = setTimeout(()=>touchScrolling=false,150);
  },{passive:true});
function clearHover(){
    if(active.rect){ active.rect.classList.remove("glow"); active.rect.style.transform="scale(1)"; active.rect.style.strokeWidth="2"; }
    if(active.zoom) active.zoom.remove();
    if(active.clip) active.clip.remove();
    active = {rect:null, zoom:null, clip:null};
  }
function applyHover(rect){
    if(touchScrolling) return;
    clearHover();

    active.rect = rect;
    rect.classList.add("glow");
    rect.style.transform = "scale(1.12)";
    rect.style.strokeWidth = "3.5";

    const parentDay = rect.closest('g');
    const parentWeek = rect.closest('svg > g[transform^="translate"]');

    const base = parentWeek.querySelector('image');
    const imgSrc = base.getAttribute('href');
    const imgW = +base.getAttribute('width');
    const imgH = +base.getAttribute('height');

    const rx = +rect.getAttribute('x');
    const ry = +rect.getAttribute('y');
    const rw = +rect.getAttribute('width');
    const rh = +rect.getAttribute('height');

    const wx = parseFloat(parentWeek.getAttribute('transform').match(/\d+/)[0]);
    const dx = parentDay.getAttribute('transform') ? parseFloat(parentDay.getAttribute('transform').match(/\d+/)[0]) : 0;

    const absX = rx + wx + dx;
    const absY = ry;

    const clipPath = document.createElementNS("http://www.w3.org/2000/svg","clipPath");
    const clipId = "clip-" + Date.now();
    clipPath.setAttribute("id", clipId);
    const clipRect = document.createElementNS("http://www.w3.org/2000/svg","rect");
    clipRect.setAttribute("x", absX);
    clipRect.setAttribute("y", absY);
    clipRect.setAttribute("width", rw);
    clipRect.setAttribute("height", rh);
    clipPath.appendChild(clipRect);
    clipDefs.appendChild(clipPath);
    active.clip = clipPath;

    const zoom = document.createElementNS("http://www.w3.org/2000/svg","image");
    zoom.setAttribute("href", imgSrc);
    zoom.setAttribute("width", imgW);
    zoom.setAttribute("height", imgH);
    zoom.setAttribute("x", wx);
    zoom.setAttribute("y", 0);
    zoom.setAttribute("clip-path", `url(#${clipId})`);

    svg.appendChild(zoom);
    active.zoom = zoom;

    const cx = absX + rw/2;
    const cy = absY + rh/2;
    zoom.style.transformOrigin = `${cx}px ${cy}px`;
    zoom.style.transform = "scale(1.12)";
    zoom.style.opacity = 1;
  }
function activateRects(){
    svg.querySelectorAll('rect.image-mapper-shape').forEach(rect=>{
      if(rect.dataset.ready) return;
      rect.dataset.ready = true;

      rect.addEventListener("mouseenter",()=>applyHover(rect));
      rect.addEventListener("mouseleave",clearHover);

      rect.addEventListener("touchstart",(e)=>{
        e.preventDefault(); 
        applyHover(rect);
      });
      rect.addEventListener("touchend",(e)=>{
        const link = rect.closest('a').getAttribute('href');
        if(link && link !== '#'){
          window.location.href = link;
        }
        setTimeout(clearHover, 100); 
      });
    });
  }
  activateRects();
 const obs = new MutationObserver(()=>activateRects());
  obs.observe(svg,{childList:true,subtree:true});
function updateLinkTargets(){
    const mobile = matchMedia('(hover: none)').matches;
    svg.querySelectorAll('a').forEach(a=>{
      if(mobile) a.removeAttribute('target');
      else a.setAttribute('target','_blank');
    });
  }
  updateLinkTargets();
})();
</script></body>
</html>